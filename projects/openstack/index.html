<!DOCTYPE html>
<html class=" negro" lang="es-ES">
    <meta charset="utf-8">
    <meta name="viewport" content="witdth=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Fira+Code|Press+Start+2P|Source+Code+Pro&display=swap" rel="stylesheet"> 
   
    <link rel="stylesheet" href="/css/bulma.css" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/navbar.css" />

<title>Homelab Openstack - Blg0</title>
<meta name="generator" content="Hugo 0.82.0" />
<body class="grisOscuro"><nav class="lateral-navbar">

  <ul class="lateral-navbar-nav bordeVerde">
    <li class="start2p lateral-nav-item ">
      <a href="/" class="lateral-nav-link textoVerde">
        <img src="/img/disk.png" class="nav-img iconsP panel-icon" alt="">
        <span class="textoVerde lateral-nav-text">Home</span>  
      </a>
    </li>
    <li class="start2p lateral-nav-item ">
      <a href="/posts/" class="lateral-nav-link textoVerde">
        <img src="/img/paper.png" class="nav-img iconsP panel-icon" alt="">
        <span class="textoVerde lateral-nav-text">Posts</span>  
      </a>
    </li>
    <li class="start2p lateral-nav-item ">
      <a href="/projects/" class="lateral-nav-link textoVerde">
        <img src="/img/flami.png" class="nav-img iconsP panel-icon" alt="">
        <span class="textoVerde lateral-nav-text">Projects</span>  
      </a>
    </li>
    <li class="start2p lateral-nav-item ">
      <a href="/about/" class="lateral-nav-link textoVerde">
        <img src="/img/gosht.png" class="nav-img iconsP panel-icon" alt="">
        <span class="textoVerde lateral-nav-text">About</span>  
      </a>
    </li>
    
  </ul>

</nav>
<nav class="container-fluid negro ">
    
    <div class=" ">
        
        <div class=" ">
            <a class="" href="/">   
                <figure class="centrar image is-128x128">
                    <img class="bordeVerde is-rounded" src="https://avatars2.githubusercontent.com/u/13577926?s=460&amp;v=4" width="50" height="50"alt="Brand">
                 
                </figure>
            </a>
           
        </div>
        <div class=" ">
          <a href=""  class="">  
            <h1 class="textoCentrado textoVerde start2p title is-1 "> Blg0</h1>
          </a>
        </div>
      
    
      </div>

</nav>



    
    <div id="content">
            
        <h1></h1>

<div  role="main" class="sourceCode section" >
    <div class="columns">
        <div class="column is-2">
            
        </div>

        <div class="column is-8">
            <div class="negro bordeVerde">
                <div class="column textoCentrado">
                    <h3 class="textoVerde start2p title is-4">Project</h3>
                </div>
            </div>
            <div class="column"></div>
            <div class="column card grisClaro bordeVerde">
                <div class="start2p card-header">
                    <div class="card-header-title is-centered">
                    Homelab Openstack
                    </div>
                </div>
                <div class="card-content">
                    
                    <div class="">
                        
                        <div class="content formatoTexto">
                            <h2 id="el-proyecto">El proyecto</h2>
<p>Llevo un tiempo pensando en desplegar un openstack de manera completa, nada de <a href="https://docs.openstack.org/devstack/latest/">devstack</a>, que es muy √∫til para conocer el sistema y hacer pruebas de gesti√≥n.</p>
<p>Todo montado desde cero en nodos &ldquo;reales&rdquo;, m√°s como proyecto de arquitectura/dise√±o que para probar temas de gesti√≥n posterior. Aunque siempre es mejor probar la gesti√≥n en un entorno &ldquo;real&rdquo; por as√≠ decirlo.</p>
<h2 id="iniciando">Iniciando</h2>
<p>Como todo proyecto hay que empezar por documentarse. He estado consultando bastante informaci√≥n sobre arquitecturas, requisitos, y ejemplos. En general creo que para este tipo de proyectos no hace falta hacer inversiones en libros o similares. Asumiendo que ya se tiene una base de conocimientos asentada cuando se intenta montar algo as√≠. Las principales fuentes est√°n en la propia documentaci√≥n de openstack. Aunque hay que resaltar que de primeras puede ser algo abrumador, si se lee con calma est√° todo ah√≠.</p>
<p>Para empezar:</p>
<ul>
<li><a href="https://docs.openstack.org/install-guide/">https://docs.openstack.org/install-guide/</a></li>
<li><a href="https://wiki.openstack.org/wiki/Main_Page">https://wiki.openstack.org/wiki/Main_Page</a></li>
</ul>
<h3 id="otras-fuentes-de-informaci√≥n">Otras fuentes de informaci√≥n</h3>
<p>Inicialmente no ten√≠a pensado recurrir a otras fuentes de informaci√≥n externas a la documentaci√≥n que podemos tener todos a mano. Pero tras las primeras pruebas que hice me entr√≥ m√°s curiosidad, y empec√© a leer algunos libro. Consult√© algo de bibliograf√≠a, que en general en este tema es escasa o poco accesible (por ejemplo si pensamos en bibliotecas p√∫blicas, incluso en la de ingenier√≠a).</p>
<p>En esta b√∫squeda estaba interesado, principalmente, en ejemplos de despliegues para ver diferentes configuraciones y utilidades. Termin√© encontrando un libro de hace unos a√±os pero que en general me parece bastante interesante si se est√° empezando en esto. EL libro en cuesti√≥n es <a href="https://www.amazon.es/Common-OpenStack-Deployments-Administrators-Engineers-ebook/dp/B01ITNCBVA/ref=sr_1_1?__mk_es_ES=%C3%85M%C3%85%C5%BD%C3%95%C3%91&amp;dchild=1&amp;keywords=Common+OpenStack+Deployments&amp;qid=1610274966&amp;sr=8-1">Common OpenStack Deployments</a> y creo que responde bastante bien a las dudas que podr√≠a tener un administrador de sistemas de toda la vida que de repente se encuentra ante openstack.</p>
<h2 id="d√≥nde">D√≥nde</h2>
<p>Hace tiempo que utilizo virtualizaci√≥n como base. Simplifica la replicaci√≥n y manipulaci√≥n de nodos, as√≠ como la gesti√≥n de snapshots y backups. He acumulado experiencia en el uso de <a href="https://xcp-ng.org/">xcp-ng</a>, una soluci√≥n opensource orientada a para-virtualizaci√≥n basada en xenserver; as√≠ que lo he visto como mi soluci√≥n por defecto. Pero en general cualquier otra soluci√≥n parecida valdr√°.</p>
<h2 id="empezando-old">Empezando (old)</h2>
<p>Para empezar hay que prepara un sistema operativo base. He seleccionado CentOS 8.2 como mi punto de partida. Cuenta con soporte directo para instalar desde los repositorios, y es bastante estable como distribuci√≥n a largo plazo. Tras instalar CentOS, openstack, y la configuraci√≥n b√°sica del nodo lo he convertido en una <em>template</em> que me valdr√° para generar desde aqu√≠ nuevos nodos sin reinstalar cada vez el sistema.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># paquetes en centos 8.2</span>
<span style="color:#75715e"># openstack ussuri</span>
yum install centos-release-openstack-ussuri
yum config-manager --set-enabled PowerTools
yum upgrade
yum install python3-openstackclient
yum install openstack-selinux
</code></pre></div><p>La arquitectura b√°sica inicial debe tener como m√≠nimo un nodo controlador y un nodo de c√≥mputo. Nuevamente de cada uno de estos nodos he generado nuevas <em>templates</em>, con sus respectivas diferencias en configuraci√≥n.</p>
<p>Para empezar estos dos nodos tendr√°n 4 cores, hasta 16GB de ram y hasta 64GB de disco. Cada nodo requiere dos interfaces de red, una como red de gesti√≥n y otra como red <em>externa</em></p>
<h2 id="cambios-importantes">Cambios importantes</h2>
<p>En los √∫ltimos d√≠as han pasado cosas que me han obligado a replantearme la visi√≥n inicial, as√≠ como a desechar parte del trabajo realizado. Entre estas est√° que RedHat da un volantazo y deja sin soporte CentOS 8, y mata b√°sicamente CentOS. Sin entrar en detalles esto me deja con las opciones de opensuse, ubuntu server, o fedora server. En un futuro cercano  <a href="https://rockylinux.org/">rocky linux</a> podr√≠a ser una soluci√≥n viable como sustituto espiritual de CentOS, pero en el momento de escribir estas palabras es m√°s una idea que un sistema operativo. Analizar√© pros y contras y decidir√© que usar. En este caso no puedo recomendar ninguna de las otras distribuciones a priori porque ser√≠a una opini√≥n altamente subjetiva.</p>
<h3 id="otra-alternativa-para-un-despliegue">Otra alternativa para un ‚Äúdespliegue‚Äù</h3>
<p>Una posible alternativa, si quieres probar cosas en un entorno b√°sico, es utilizar <a href="https://microstack.run/">microstack</a>. Permite crear un peque√±o cl√∫ster con las funcionalidades b√°sicas que necesitas para hacer pruebas y aprender a trabajar en openstack.</p>
<p>Pero yo quiero entender openstack, no alquilarme a mi mismo algo que no entiendo como est√° montado, ü§™ . Comentarios tontos aparte, microstack est√° demasiado verde a√∫n para ser una opci√≥n viable incluso para un cl√∫ster de casa. Pero la sencillez con la que se pueden instalar unos cuantos nodos y empezar a levantar m√°quinas lo hace muy interesante para hacer pruebas en ‚Äúlocal‚Äù. Espero que en unos a√±os sea una soluci√≥n m√°s completa.</p>
<p><strong>continuar√°&hellip;</strong></p>
<p>Saludos
<a href="https://github.com/DarFig">DarFig</a></p>
                        </div>
                        <br>
                    </div>
                    
                </div>
                <div class=" card-footer is-right">
                    <div class="card-header-title is-centered">
                        November 8 - 2020
                     </div>
                </div>
            </div>
        </div>
    </div>
</div>

        </div>
        
    <div class="alpie"></div>   
    </body><footer  class="negro pie">
    <div class="container">
        <div>
            <br>
            <p align="center"  class="textoVerde LettCab text-muted">
                ¬© by darfig <a href="https://github.com/DarFig">https://github.com/DarFig</a>
            </p>
        </div>
    </div>

</footer>



</html>
